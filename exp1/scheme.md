# 投资者如何根据历史价格趋势调整仓位？

### 实验目的和方案

投资者会根据近期历史价格趋势调整仓位。根据这一现象，投资者被分为动量型（momentum）和逆向型（reverse）。本实验使用一个投资者在**天级尺度上对仓位的调整**对**调整前的价格趋势**进行线性回归，得到的**系数可以反应投资者对未来价格走势的判断**，**系数的正负能反应投资者的动量/逆向类型**。实验中，使用最小二乘法拟合连续n天结算价，**斜率$k$可以反应价格变化趋势，拟合优度$R^2$可以反应趋势的明朗程度**。如果投资者持有买方向的仓位，将当前仓位记为正；反之，记为负。采样时，若投资者持有某合约或下一天持有某合约，则将该合约下一日仓位与当日仓位之差记为被解释变量，将使用最小二乘法计算的斜率和拟合优度记为解释变量。考虑到投资者的资金能力会影响仓位调整行为，将**当日结算价和当日结算后保证金账户剩余可用资金**加入到解释变量；考虑到不同品种和交割期会影响结算价大小进而影响斜率$k$，将**品种和当前月到交割月的月数差**加入到解释变量，其中品种使用虚拟变量，若该投资者的采样数据涉及到m个品种，则使用m-1个虚拟变量。实验中，n的大小反应了投资者对多长时间的价格趋势敏感。通过设置不同的n，可对一个投资者做多次回归。**本实验中，对于每个投资者，n都取2到15，对于每一个n，分别进行一次线性回归。**

综上所述，给定一个投资者和整数n，可以做一次线性回归，回归所涉及的变量如下：

| 变量                           | 说明                                       |
| ---------------------------- | ---------------------------------------- |
| 持仓变化$y$（被解释变量）               | 仓位为买方向时，记为正；为卖方向时，记为负。然后用T+1日仓位减去T日仓位得到。 |
| 斜率$k$                        | 使用最小二乘拟合T-n+1日到T日结算价的斜率，其中纵坐标为结算价，横坐标从1到n。 |
| 拟合优度$R^2$                    | 使用最小二乘拟合T-n+1日到T日结算价时的拟合优度。              |
| 结算价$settle$                  | T日当天的结算价。                                |
| 剩余资金$avail\_fund$            | T日无负债结算后的剩余可用资金。                         |
| 到交割月的剩余月数$month\_till\_deli$ | T日所在月份到交割月相差的月数，例如：当前为2015年4月5日，交割期为2016年2月，则该变量应为10。 |
| 品种虚拟变量                       | 若干表示合约品种的虚拟变量，若该投资者共交易过m个品种，则设m-1个虚拟变量   |

### 实验结果分析

